# Redis学习过程

#### redis 官方文档 redis.io/documentation

**************************

## 一、各种命令

切换数据库 ```select [index]```

添加或修改键 ```set 变量名```

批量添加键 ```MSET [键名] [值] [键名] [值] [键名] [值]``` ***仅限String类型***

添加或修改哈希键 ```HSET [键] [field] [值]``` ***仅限Hash类型***

批量添加哈希键 ```HMSET [键] [field] [值] [field] [值] [field] [值]``` ***仅限Hash类型***

获取键 ```get 变量名```

批量获取键 ```MGET [键名] [键名] [键名] ``` ***返回结果为数组***

获取哈希键 ```HGET [键]``` ***仅限Hash类型***

批量获取哈希键 ```HMGET [键名] [field] [field] [field]``` ***返回结果为数组***

获取哈希键的全部字段和值 ```HGETALL [键]```

获取哈希键的全部字段 ```HKEYS [键]```

获取哈希键的全部值 ```HVALS [键]```

查询键 ```KEYS [想查询的变量名]```

查询所有键 ```KEYS *```

删除键 ```DEL [键名]```

删除多个键 ```DEL [键名] [键名] [键名]```

判断键是否存在 ```EXISTS [键名]```

设置键的有效期 ```EXPIRE [键名] [有效期] #有效期单位为秒```

查看有效期 ```TTL [键名] #返回结果中，-2为过期， -1为永久```

键的值自增1 ```INCR [键]``` ***仅限整型***

键的整型值增长指定数 ```INCRBY [键] [整型数]``` ***可输入负数***

键的浮点数值增长指定数 ```INCRBYFLOAT [键] [浮点数]``` 

哈希键的值增长指定数 ```HINCRBY [键] [字段] [数]```

添加键 ```setnx [键] [值]``` ***已存在则不新增***

添加哈希键 ```setnx [键] [字段]``` ***字段已存在则不新增***

添加键且设置有效期 ```setex [键] [有效期] [值]``` 或 ```set [键] [值] ex [有效期]```

从左添加列表元素 ```LPUSH [键] [元素1] [元素2] [元素3]```

从右添加列表元素 ```RPUSH [键] [元素1] [元素2] [元素3]```

从左获取列表元素 ```LPOP [键] [获取元素的数量]```

从右获取列表元素 ```RPOP [键] [获取元素的数量]```

获取指定片段的元素 ```LRANGE [键] [片段起始序号] [片段结束序号]```

阻塞式从左获取列表元素 ```BLPOP [键] [等待时间]```

阻塞式从右获取列表元素 ```BRPOP [键] [等待时间]```


## 二、Redis数据结构介绍

### 1 基本类型

* **String**
    * 字符串
    * int
    * float

* **Hash**
    *

### 2 特殊类型

## 三、key的结构

层级结构 ```层级1:层级2:键```

以json格式储存java对象 ```set heima:user:1 '{"id":1, "name":"Rose", "age":18}'```
